---
import type { Evidence } from '../types';

interface Props {
  evidenceList: Evidence[];
}

const { evidenceList } = Astro.props;
---

<section class="space-y-3">
  <h3 class="text-lg font-bold flex items-center gap-2">
    官方依据
    <span class="text-xs font-normal text-gray-500">（共 {evidenceList.length} 条）</span>
  </h3>
  <p class="text-xs text-gray-500">以官方发布为准；本站提供对接式解读与路径建议。</p>
  <div class="space-y-3">
    {evidenceList.map((ev, i) => (
      <div class="p-3 border rounded-lg bg-gray-50 text-sm space-y-1">
        <div class="flex flex-wrap gap-2 items-baseline">
          <span class="font-medium text-gray-800">{ev.source_name}</span>
          {ev.doc_no && <span class="text-xs text-gray-500">（{ev.doc_no}）</span>}
        </div>
        <p class="text-gray-700">{ev.doc_title}</p>
        {ev.published_date && (
          <p class="text-xs text-gray-500">发布日期：{ev.published_date}</p>
        )}
        <p class="text-xs text-gray-500">核验日期：{ev.verified_date}</p>
        {ev.scope && <p class="text-xs text-gray-500">适用范围：{ev.scope}</p>}
        {ev.quoted_excerpt && (
          <blockquote class="text-xs text-gray-600 border-l-2 border-gray-300 pl-2 mt-1 italic">
            "{ev.quoted_excerpt}"
          </blockquote>
        )}
        <a
          href={ev.url}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block text-xs text-blue-700 hover:underline mt-1"
        >
          查看原文 &rarr;
        </a>
      </div>
    ))}
  </div>
</section>
