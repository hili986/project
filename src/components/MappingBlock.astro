---
import type { PolicyCard } from '../types';

interface Props {
  card: PolicyCard;
}

const { card } = Astro.props;
const hasMapping = card.tongji_mapping_text && !card.tongji_mapping_text.includes('待补齐');
---

<section class="space-y-3">
  <h3 class="text-lg font-bold">到同济如何对接</h3>
  {!hasMapping ? (
    <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
      <p class="text-sm text-yellow-800">
        {card.tongji_mapping_text || '暂无统一入口，建议咨询学院资助部门。'}
      </p>
      <p class="text-xs text-yellow-700 mt-2">
        建议咨询：
        <a
          href="https://student.tongji.edu.cn/xszz.htm"
          target="_blank"
          rel="noopener noreferrer"
          class="underline"
        >
          同济大学学生资助中心
        </a>
      </p>
    </div>
  ) : (
    <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-800 whitespace-pre-line">
      {card.tongji_mapping_text}
    </div>
  )}
  {card.risk_notes && (
    <div class="p-3 bg-amber-50 border border-amber-200 rounded text-sm text-amber-800">
      <span class="font-medium">注意：</span>{card.risk_notes}
    </div>
  )}
</section>
